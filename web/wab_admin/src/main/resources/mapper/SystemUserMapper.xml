<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nanhang.lease.web.admin.mapper.SystemUserMapper">


    <select id="selectByPage" resultType="com.nanhang.lease.web.admin.vo.system.user.SystemUserItemVo">

    select
        sp.name postName,
        su.id,
        su.username,
        su.password,
        su.name,
        su.type,
        su.phone,
        su.avatar_url avatarUrl,
        su.additional_info additionalInfo,
        su.post_id postId,
        su.status

        from
            system_user su
        left join
                system_post sp
        on su.post_id = sp.id


    </select>
    <select id="getByIdDiy" resultType="com.nanhang.lease.web.admin.vo.system.user.SystemUserItemVo">
        select
            sp.name postName,
            su.id,
            su.username,
            su.password,
            su.name,
            su.type,
            su.phone,
            su.avatar_url avatarUrl,
            su.additional_info additionalInfo,
            su.post_id postId,
            su.status

        from
            system_user su
                left join
            system_post sp
            on su.post_id = sp.id
        where
            su.id = #{id}

    </select>
    <select id="selectOneByUserName" resultType="com.nanhang.lease.model.entity.SystemUser">

    select
        su.id,
        su.username,
        su.password,
        su.name,
        su.type,
        su.phone,
        su.avatar_url avatarUrl,
        su.additional_info additionalInfo,
        su.post_id postId,
        su.status
        from
                system_user su
    where
        su.username = #{username}
    </select>
</mapper>
